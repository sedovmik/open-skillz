(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const Wr=!1;var yt=Array.isArray,xt=Array.from,Yr=Object.defineProperty,lt=Object.getOwnPropertyDescriptor,Qr=Object.getOwnPropertyDescriptors,Kr=Object.getPrototypeOf;const we=()=>{};function Zr(e){return e()}function st(e){for(var t=0;t<e.length;t++)e[t]()}const le=2,nr=4,De=8,wt=16,z=32,Re=64,ve=128,je=256,G=512,fe=1024,Se=2048,X=4096,Ge=8192,Xr=16384,Et=32768,en=65536,tn=1<<18,ar=1<<19,$t=Symbol("$state");function ir(e){return e===this.v}function lr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function sr(e){return!lr(e,this.v)}function rn(e){throw new Error("effect_in_teardown")}function nn(){throw new Error("effect_in_unowned_derived")}function an(e){throw new Error("effect_orphan")}function ln(){throw new Error("effect_update_depth_exceeded")}function sn(e){throw new Error("props_invalid_value")}function on(){throw new Error("state_unsafe_local_read")}function un(){throw new Error("state_unsafe_mutation")}let $e=!1;function fn(){$e=!0}function Ve(e){return{f:0,v:e,reactions:null,equals:ir,version:0}}function St(e,t=!1){var n;const r=Ve(e);return t||(r.equals=sr),$e&&A!==null&&A.l!==null&&((n=A.l).s??(n.s=[])).push(r),r}function Z(e,t=!1){return cn(St(e,t))}function cn(e){return P!==null&&P.f&le&&(ee===null?Pn([e]):ee.push(e)),e}function I(e,t){return P!==null&&Xe()&&P.f&(le|wt)&&(ee===null||!ee.includes(e))&&un(),ot(e,t)}function ot(e,t){return e.equals(t)||(e.v=t,e.version=Ir(),or(e,fe),Xe()&&g!==null&&g.f&G&&!(g.f&z)&&(D!==null&&D.includes(e)?(W(g,fe),et(g)):ue===null?Mn([e]):ue.push(e))),t}function or(e,t){var r=e.reactions;if(r!==null)for(var n=Xe(),a=r.length,i=0;i<a;i++){var l=r[i],o=l.f;o&fe||!n&&l===g||(W(l,t),o&(G|ve)&&(o&le?or(l,Se):et(l)))}}const Pt=1,Mt=2,ur=4,dn=8,vn=16,_n=1,pn=2,mn=1,hn=2;let fr=!1;var Lt,cr,dr;function gn(){if(Lt===void 0){Lt=window;var e=Element.prototype,t=Node.prototype;cr=lt(t,"firstChild").get,dr=lt(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function kt(e=""){return document.createTextNode(e)}function He(e){return cr.call(e)}function Ke(e){return dr.call(e)}function m(e,t){return He(e)}function ut(e,t){{var r=He(e);return r instanceof Comment&&r.data===""?Ke(r):r}}function S(e,t=1,r=!1){let n=e;for(;t--;)n=Ke(n);return n}function bn(e){e.textContent=""}function It(e){var t=le|fe;g===null?t|=ve:g.f|=ar;const r={children:null,ctx:A,deps:null,equals:ir,f:t,fn:e,reactions:null,v:null,version:0,parent:g};if(P!==null&&P.f&le){var n=P;(n.children??(n.children=[])).push(r)}return r}function ae(e){const t=It(e);return t.equals=sr,t}function vr(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var n=t[r];n.f&le?At(n):_e(n)}}}function _r(e){var t,r=g;te(e.parent);try{vr(e),t=Ar(e)}finally{te(r)}return t}function pr(e){var t=_r(e),r=(xe||e.f&ve)&&e.deps!==null?Se:G;W(e,r),e.equals(t)||(e.v=t,e.version=Ir())}function At(e){vr(e),Ce(e,0),W(e,Ge),e.v=e.children=e.deps=e.ctx=e.reactions=null}function mr(e){g===null&&P===null&&an(),P!==null&&P.f&ve&&nn(),Nt&&rn()}function yn(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Pe(e,t,r,n=!0){var a=(e&Re)!==0,i=g,l={ctx:A,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|fe,first:null,fn:t,last:null,next:null,parent:a?null:i,prev:null,teardown:null,transitions:null,version:0};if(r){var o=Ee;try{Ft(!0),Le(l),l.f|=Xr}catch(u){throw _e(l),u}finally{Ft(o)}}else t!==null&&et(l);var f=r&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&ar)===0;if(!f&&!a&&n&&(i!==null&&yn(l,i),P!==null&&P.f&le)){var s=P;(s.children??(s.children=[])).push(l)}return l}function hr(e){const t=Pe(De,null,!1);return W(t,G),t.teardown=e,t}function Bt(e){mr();var t=g!==null&&(g.f&z)!==0&&A!==null&&!A.m;if(t){var r=A;(r.e??(r.e=[])).push({fn:e,effect:g,reaction:P})}else{var n=gr(e);return n}}function xn(e){return mr(),Ze(e)}function wn(e){const t=Pe(Re,e,!0);return()=>{_e(t)}}function gr(e){return Pe(nr,e,!1)}function ft(e,t){var r=A,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Ze(()=>{e(),!n.ran&&(n.ran=!0,I(r.l.r2,!0),qt(t))})}function br(){var e=A;Ze(()=>{if(_(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&G&&W(r,Se),Me(r)&&Le(r),t.ran=!1}e.l.r2.v=!1}})}function Ze(e){return Pe(De,e,!0)}function V(e){return Tt(e)}function Tt(e,t=0){return Pe(De|wt|t,e,!0)}function qe(e,t=!0){return Pe(De|z,e,!0,t)}function yr(e){var t=e.teardown;if(t!==null){const r=Nt,n=P;Ut(!0),ce(null);try{t.call(null)}finally{Ut(r),ce(n)}}}function xr(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)At(t[r])}}function wr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;_e(r,t),r=n}}function En(e){for(var t=e.first;t!==null;){var r=t.next;t.f&z||_e(t),t=r}}function _e(e,t=!0){var r=!1;if((t||e.f&tn)&&e.nodes_start!==null){for(var n=e.nodes_start,a=e.nodes_end;n!==null;){var i=n===a?null:Ke(n);n.remove(),n=i}r=!0}wr(e,t&&!r),xr(e),Ce(e,0),W(e,Ge);var l=e.transitions;if(l!==null)for(const f of l)f.stop();yr(e);var o=e.parent;o!==null&&o.first!==null&&Er(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.parent=e.fn=e.nodes_start=e.nodes_end=null}function Er(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function ct(e,t){var r=[];Ot(e,r,!0),Sr(r,()=>{_e(e),t&&t()})}function Sr(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var a of e)a.out(n)}else t()}function Ot(e,t,r){if(!(e.f&X)){if(e.f^=X,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var a=n.next,i=(n.f&Et)!==0||(n.f&z)!==0;Ot(n,t,i?r:!1),n=a}}}function Je(e){Pr(e,!0)}function Pr(e,t){if(e.f&X){Me(e)&&Le(e),e.f^=X;for(var r=e.first;r!==null;){var n=r.next,a=(r.f&Et)!==0||(r.f&z)!==0;Pr(r,a?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let dt=!1,vt=[];function Sn(){dt=!1;const e=vt.slice();vt=[],st(e)}function Mr(e){dt||(dt=!0,queueMicrotask(Sn)),vt.push(e)}let ze=!1,Ee=!1,Nt=!1;function Ft(e){Ee=e}function Ut(e){Nt=e}let _t=[],Oe=0;let P=null;function ce(e){P=e}let g=null;function te(e){g=e}let ee=null;function Pn(e){ee=e}let D=null,U=0,ue=null;function Mn(e){ue=e}let kr=0,xe=!1,A=null;function Ir(){return++kr}function Xe(){return!$e||A!==null&&A.l===null}function Me(e){var l,o;var t=e.f;if(t&fe)return!0;if(t&Se){var r=e.deps,n=(t&ve)!==0;if(r!==null){var a;if(t&je){for(a=0;a<r.length;a++)((l=r[a]).reactions??(l.reactions=[])).push(e);e.f^=je}for(a=0;a<r.length;a++){var i=r[a];if(Me(i)&&pr(i),n&&g!==null&&!xe&&!((o=i==null?void 0:i.reactions)!=null&&o.includes(e))&&(i.reactions??(i.reactions=[])).push(e),i.version>e.version)return!0}}n||W(e,G)}return!1}function kn(e,t,r){throw e}function Ar(e){var c;var t=D,r=U,n=ue,a=P,i=xe,l=ee,o=A,f=e.f;D=null,U=0,ue=null,P=f&(z|Re)?null:e,xe=!Ee&&(f&ve)!==0,ee=null,A=e.ctx;try{var s=(0,e.fn)(),u=e.deps;if(D!==null){var d;if(Ce(e,U),u!==null&&U>0)for(u.length=U+D.length,d=0;d<D.length;d++)u[U+d]=D[d];else e.deps=u=D;if(!xe)for(d=U;d<u.length;d++)((c=u[d]).reactions??(c.reactions=[])).push(e)}else u!==null&&U<u.length&&(Ce(e,U),u.length=U);return s}finally{D=t,U=r,ue=n,P=a,xe=i,ee=l,A=o}}function In(e,t){let r=t.reactions;if(r!==null){var n=r.indexOf(e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}r===null&&t.f&le&&(D===null||!D.includes(t))&&(W(t,Se),t.f&(ve|je)||(t.f^=je),Ce(t,0))}function Ce(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)In(e,r[n])}function Le(e){var t=e.f;if(!(t&Ge)){W(e,G);var r=g;g=e;try{t&wt?En(e):wr(e),xr(e),yr(e);var n=Ar(e);e.teardown=typeof n=="function"?n:null,e.version=kr}catch(a){kn(a)}finally{g=r}}}function An(){Oe>1e3&&(Oe=0,ln()),Oe++}function Tn(e){var t=e.length;if(t!==0){An();var r=Ee;Ee=!0;try{for(var n=0;n<t;n++){var a=e[n];a.f&G||(a.f^=G);var i=[];Tr(a,i),On(i)}}finally{Ee=r}}}function On(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];!(n.f&(Ge|X))&&Me(n)&&(Le(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Er(n):n.fn=null))}}function Nn(){if(ze=!1,Oe>1001)return;const e=_t;_t=[],Tn(e),ze||(Oe=0)}function et(e){ze||(ze=!0,queueMicrotask(Nn));for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(Re|z)){if(!(r&G))return;t.f^=G}}_t.push(t)}function Tr(e,t){var r=e.first,n=[];e:for(;r!==null;){var a=r.f,i=(a&z)!==0,l=i&&(a&G)!==0;if(!l&&!(a&X))if(a&De){i?r.f^=G:Me(r)&&Le(r);var o=r.first;if(o!==null){r=o;continue}}else a&nr&&n.push(r);var f=r.next;if(f===null){let d=r.parent;for(;d!==null;){if(e===d)break e;var s=d.next;if(s!==null){r=s;continue e}d=d.parent}}r=f}for(var u=0;u<n.length;u++)o=n[u],t.push(o),Tr(o,t)}function _(e){var o;var t=e.f,r=(t&le)!==0;if(r&&t&Ge){var n=_r(e);return At(e),n}if(P!==null){ee!==null&&ee.includes(e)&&on();var a=P.deps;D===null&&a!==null&&a[U]===e?U++:D===null?D=[e]:D.push(e),ue!==null&&g!==null&&g.f&G&&!(g.f&z)&&ue.includes(e)&&(W(g,fe),et(g))}else if(r&&e.deps===null){var i=e,l=i.parent;l!==null&&!((o=l.deriveds)!=null&&o.includes(i))&&(l.deriveds??(l.deriveds=[])).push(i)}return r&&(i=e,Me(i)&&pr(i)),e.v}function qt(e){const t=P;try{return P=null,e()}finally{P=t}}const qn=~(fe|Se|G);function W(e,t){e.f=e.f&qn|t}function Ct(e,t=!1,r){A={p:A,c:null,e:null,m:!1,s:e,x:null,l:null},$e&&!t&&(A.l={s:null,u:null,r1:[],r2:Ve(!1)})}function Dt(e){const t=A;if(t!==null){const l=t.e;if(l!==null){var r=g,n=P;t.e=null;try{for(var a=0;a<l.length;a++){var i=l[a];te(i.effect),ce(i.reaction),gr(i.fn)}}finally{te(r),ce(n)}}A=t.p,t.m=!0}return{}}function Cn(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if($t in e)pt(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&$t in r&&pt(r)}}}function pt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{pt(e[n],t)}catch{}const r=Kr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Qr(r);for(let a in n){const i=n[a].get;if(i)try{i.call(e)}catch{}}}}}let jt=!1;function Dn(){jt||(jt=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Or(e){var t=P,r=g;ce(null),te(null);try{return e()}finally{ce(t),te(r)}}function Rn(e,t,r,n=r){e.addEventListener(t,()=>Or(r));const a=e.__on_r;a?e.__on_r=()=>{a(),n()}:e.__on_r=n,Dn()}const Gn=new Set,Vt=new Set;function $n(e,t,r,n){function a(i){if(n.capture||Te.call(t,i),!i.cancelBubble)return Or(()=>r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Mr(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function K(e,t,r,n,a){var i={capture:n,passive:a},l=$n(e,t,r,i);(t===document.body||t===window||t===document)&&hr(()=>{t.removeEventListener(e,l,i)})}function Te(e){var q;var t=this,r=t.ownerDocument,n=e.type,a=((q=e.composedPath)==null?void 0:q.call(e))||[],i=a[0]||e.target,l=0,o=e.__root;if(o){var f=a.indexOf(o);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var s=a.indexOf(t);if(s===-1)return;f<=s&&(l=f)}if(i=a[l]||e.target,i!==t){Yr(e,"currentTarget",{configurable:!0,get(){return i||r}});var u=P,d=g;ce(null),te(null);try{for(var c,v=[];i!==null;){var p=i.assignedSlot||i.parentNode||i.host||null;try{var b=i["__"+n];if(b!==void 0&&!i.disabled)if(yt(b)){var[M,...N]=b;M.apply(i,[e,...N])}else b.call(i,e)}catch(T){c?v.push(T):c=T}if(e.cancelBubble||p===t||p===null)break;i=p}if(c){for(let T of v)queueMicrotask(()=>{throw T});throw c}}finally{e.__root=t,delete e.currentTarget,ce(u),te(d)}}}function Ln(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function mt(e,t){var r=g;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function $(e,t){var r=(t&mn)!==0,n=(t&hn)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=Ln(i?e:"<!>"+e),r||(a=He(a)));var l=n?document.importNode(a,!0):a.cloneNode(!0);if(r){var o=He(l),f=l.lastChild;mt(o,f)}else mt(l,l);return l}}function Bn(){var e=document.createDocumentFragment(),t=document.createComment(""),r=kt();return e.append(t,r),mt(t,r),e}function R(e,t){e!==null&&e.before(t)}const Fn=["touchstart","touchmove"];function Un(e){return Fn.includes(e)}function J(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function jn(e,t){return Vn(e,t)}const he=new Map;function Vn(e,{target:t,anchor:r,props:n={},events:a,context:i,intro:l=!0}){gn();var o=new Set,f=d=>{for(var c=0;c<d.length;c++){var v=d[c];if(!o.has(v)){o.add(v);var p=Un(v);t.addEventListener(v,Te,{passive:p});var b=he.get(v);b===void 0?(document.addEventListener(v,Te,{passive:p}),he.set(v,1)):he.set(v,b+1)}}};f(xt(Gn)),Vt.add(f);var s=void 0,u=wn(()=>{var d=r??t.appendChild(kt());return qe(()=>{if(i){Ct({});var c=A;c.c=i}a&&(n.$$events=a),s=e(d,n)||{},i&&Dt()}),()=>{var p;for(var c of o){t.removeEventListener(c,Te);var v=he.get(c);--v===0?(document.removeEventListener(c,Te),he.delete(c)):he.set(c,v)}Vt.delete(f),Ht.delete(s),d!==r&&((p=d.parentNode)==null||p.removeChild(d))}});return Ht.set(s,u),s}let Ht=new WeakMap;function de(e,t,r,n=null,a=!1){var i=e,l=null,o=null,f=null,s=a?Et:0;Tt(()=>{f!==(f=!!t())&&(f?(l?Je(l):l=qe(()=>r(i)),o&&ct(o,()=>{o=null})):(o?Je(o):n&&(o=qe(()=>n(i))),l&&ct(l,()=>{l=null})))},s)}function We(e,t){return t}function Hn(e,t,r,n){for(var a=[],i=t.length,l=0;l<i;l++)Ot(t[l].e,a,!0);var o=i>0&&a.length===0&&r!==null;if(o){var f=r.parentNode;bn(f),f.append(r),n.clear(),oe(e,t[0].prev,t[i-1].next)}Sr(a,()=>{for(var s=0;s<i;s++){var u=t[s];o||(n.delete(u.k),oe(e,u.prev,u.next)),_e(u.e,!o)}})}function Ye(e,t,r,n,a,i=null){var l=e,o={items:new Map,first:null},f=(t&ur)!==0;if(f){var s=e;l=s.appendChild(kt())}var u=null,d=!1;Tt(()=>{var c=r(),v=yt(c)?c:c==null?[]:xt(c),p=v.length;if(!(d&&p===0)){d=p===0;{var b=P;Jn(v,o,l,a,t,(b.f&X)!==0,n)}i!==null&&(p===0?u?Je(u):u=qe(()=>i(l)):u!==null&&ct(u,()=>{u=null})),r()}})}function Jn(e,t,r,n,a,i,l){var B,H,se,re;var o=(a&dn)!==0,f=(a&(Pt|Mt))!==0,s=e.length,u=t.items,d=t.first,c=d,v,p=null,b,M=[],N=[],q,T,y,E;if(o)for(E=0;E<s;E+=1)q=e[E],T=l(q,E),y=u.get(T),y!==void 0&&((B=y.a)==null||B.measure(),(b??(b=new Set)).add(y));for(E=0;E<s;E+=1){if(q=e[E],T=l(q,E),y=u.get(T),y===void 0){var Y=c?c.e.nodes_start:r;p=Wn(Y,t,p,p===null?t.first:p.next,q,T,E,n,a),u.set(T,p),M=[],N=[],c=p.next;continue}if(f&&zn(y,q,E,a),y.e.f&X&&(Je(y.e),o&&((H=y.a)==null||H.unfix(),(b??(b=new Set)).delete(y))),y!==c){if(v!==void 0&&v.has(y)){if(M.length<N.length){var w=N[0],k;p=w.prev;var x=M[0],h=M[M.length-1];for(k=0;k<M.length;k+=1)Jt(M[k],w,r);for(k=0;k<N.length;k+=1)v.delete(N[k]);oe(t,x.prev,h.next),oe(t,p,x),oe(t,h,w),c=w,p=h,E-=1,M=[],N=[]}else v.delete(y),Jt(y,c,r),oe(t,y.prev,y.next),oe(t,y,p===null?t.first:p.next),oe(t,p,y),p=y;continue}for(M=[],N=[];c!==null&&c.k!==T;)(i||!(c.e.f&X))&&(v??(v=new Set)).add(c),N.push(c),c=c.next;if(c===null)continue;y=c}M.push(y),p=y,c=y.next}if(c!==null||v!==void 0){for(var O=v===void 0?[]:xt(v);c!==null;)(i||!(c.e.f&X))&&O.push(c),c=c.next;var C=O.length;if(C>0){var L=a&ur&&s===0?r:null;if(o){for(E=0;E<C;E+=1)(se=O[E].a)==null||se.measure();for(E=0;E<C;E+=1)(re=O[E].a)==null||re.fix()}Hn(t,O,L,u)}}o&&Mr(()=>{var Q;if(b!==void 0)for(y of b)(Q=y.a)==null||Q.apply()}),g.first=t.first&&t.first.e,g.last=p&&p.e}function zn(e,t,r,n){n&Pt&&ot(e.v,t),n&Mt?ot(e.i,r):e.i=r}function Wn(e,t,r,n,a,i,l,o,f){var s=(f&Pt)!==0,u=(f&vn)===0,d=s?u?St(a):Ve(a):a,c=f&Mt?Ve(l):l,v={i:c,v:d,k:i,a:null,e:null,prev:r,next:n};try{return v.e=qe(()=>o(e,d,c),fr),v.e.prev=r&&r.e,v.e.next=n&&n.e,r===null?t.first=v:(r.next=v,r.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function Jt(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var l=Ke(i);a.before(i),i=l}}function oe(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Yn(e,t,r,n,a){var o;var i=(o=t.$$slots)==null?void 0:o[r],l=!1;i===!0&&(i=t.children,l=!0),i===void 0||i(e,l?()=>n:n)}function Qn(e,t){var r=e.__className,n=Kn(t);(r!==n||fr)&&(t==null?e.removeAttribute("class"):e.className=n,e.__className=n)}function Kn(e){return e??""}function ht(e,t,r=t){var n=Xe();Rn(e,"input",()=>{var a=zt(e)?Wt(e.value):e.value;r(a),n&&a!==(a=t())&&(e.value=a??"")}),Ze(()=>{var a=t();zt(e)&&a===Wt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function zt(e){var t=e.type;return t==="number"||t==="range"}function Wt(e){return e===""?null:+e}function Zn(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function Nr(e=!1){const t=A,r=t.l.u;if(!r)return;let n=()=>Cn(t.s);if(e){let a=0,i={};const l=It(()=>{let o=!1;const f=t.s;for(const s in f)f[s]!==i[s]&&(i[s]=f[s],o=!0);return o&&a++,a});n=()=>_(l)}r.b.length&&xn(()=>{Yt(t,n),st(r.b)}),Bt(()=>{const a=qt(()=>r.m.map(Zr));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&Bt(()=>{Yt(t,n),st(r.a)})}function Yt(e,t){if(e.l.s)for(const r of e.l.s)_(r);t()}function Xn(e,t){var i;var r=(i=e.$$events)==null?void 0:i[t.type],n=yt(r)?r.slice():r==null?[]:[r];for(var a of n)a.call(this,t)}function ea(e,t,r){if(e==null)return t(void 0),we;const n=qt(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}let Fe=!1;function gt(e,t,r){const n=r[t]??(r[t]={store:null,source:St(void 0),unsubscribe:we});if(n.store!==e)if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=we;else{var a=!0;n.unsubscribe=ea(e,i=>{a?n.source.v=i:I(n.source,i)}),a=!1}return _(n.source)}function qr(){const e={};return hr(()=>{for(var t in e)e[t].unsubscribe()}),e}function ta(e){var t=Fe;try{return Fe=!1,[e(),Fe]}finally{Fe=t}}function ra(e){for(var t=g,r=g;t!==null&&!(t.f&(z|Re));)t=t.parent;try{return te(t),e()}finally{te(r)}}function bt(e,t,r,n){var p;var a=(r&_n)!==0,i=!$e||(r&pn)!==0,l=!1,o;[o,l]=ta(()=>e[t]);var f=(p=lt(e,t))==null?void 0:p.set,s=n,u=!0,d=()=>(u&&(u=!1,s=n),s);o===void 0&&n!==void 0&&(f&&i&&sn(),o=d(),f&&f(o));var c;if(i)c=()=>{var b=e[t];return b===void 0?d():(u=!0,b)};else{var v=ra(()=>(a?It:ae)(()=>e[t]));v.f|=en,c=()=>{var b=_(v);return b!==void 0&&(s=void 0),b===void 0?s:b}}return c}const na="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(na);fn();var aa=$("<button> </button>");function ia(e,t){let r=bt(t,"active",8,!1),n=bt(t,"label",8);var a=aa(),i=m(a);V(()=>{Qn(a,`px-4 py-2 font-medium text-sm ${(r()?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300 border-b-2 border-transparent")??""}`),J(i,n())}),K("click",a,function(l){Xn.call(this,t,l)}),R(e,a)}var la=$('<div class="py-4"><!></div>');function Qt(e,t){let r=bt(t,"active",8,!1);var n=Bn(),a=ut(n);de(a,r,i=>{var l=la(),o=m(l);Yn(o,t,"default",{}),R(i,l)}),R(e,n)}const ge=[];function Cr(e,t=we){let r=null;const n=new Set;function a(o){if(lr(e,o)&&(e=o,r)){const f=!ge.length;for(const s of n)s[1](),ge.push(s,e);if(f){for(let s=0;s<ge.length;s+=2)ge[s][0](ge[s+1]);ge.length=0}}}function i(o){a(o(e))}function l(o,f=we){const s=[o,f];return n.add(s),n.size===1&&(r=t(a,i)||we),o(e),()=>{n.delete(s),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:l}}var ie=(e=>(e[e.Idle=0]="Idle",e[e.InGame=1]="InGame",e))(ie||{});const Kt=localStorage.getItem("players"),sa=Kt?JSON.parse(Kt):[];function oa(){const{subscribe:e,update:t}=Cr(sa);return{subscribe:e,addPlayer:(r,n)=>{t(a=>{const i={id:Date.now(),name:r,rating:n,state:ie.Idle},l=[...a,i];return localStorage.setItem("players",JSON.stringify(l)),l})},getPlayer:r=>{let n;if(e(a=>{n=a.find(i=>i.id===r)})(),!n)throw new Error(`Player with id ${r} not found`);return n},updatePlayerState:(r,n)=>{t(a=>{const i=a.map(l=>l.id===r?{...l,state:n}:l);return localStorage.setItem("players",JSON.stringify(i)),i})},updatePlayerRating:(r,n)=>{t(a=>{const i=a.map(l=>l.id===r?{...l,rating:n}:l);return localStorage.setItem("players",JSON.stringify(i)),i})},clearPlayerStatus:()=>{t(r=>{const n=r.map(a=>a.state=ie.Idle);return localStorage.setItem("players",JSON.stringify(n)),r})},removePlayer:r=>{t(n=>{const a=n.filter(i=>i.id!==r);return localStorage.setItem("players",JSON.stringify(a)),a})}}}const j=oa();function ye(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function Ue(e){return function t(r){return arguments.length===0||ye(r)?t:e.apply(this,arguments)}}function Dr(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return ye(r)?t:Ue(function(a){return e(r,a)});default:return ye(r)&&ye(n)?t:ye(r)?Ue(function(a){return e(a,n)}):ye(n)?Ue(function(a){return e(r,a)}):e(r,n)}}}function ua(e){return e}var fa=Ue(ua);function Zt(e){return Object.prototype.toString.call(e)==="[object Number]"}var ca=Dr(function(t,r){if(!(Zt(t)&&Zt(r)))throw new TypeError("Both arguments to range must be numbers");for(var n=Array(t<r?r-t:0),a=t<0?r+Math.abs(t):r-t,i=0;i<a;)n[i]=i+t,i+=1;return n}),da=Dr(function(t,r){return Array.prototype.slice.call(r,0).sort(function(n,a){var i=t(n),l=t(a);return i<l?-1:i>l?1:0})}),va=e=>t=>{if(t.length===0)return[[],[]];const r=[];t.forEach((i,l)=>{r.push([e[l],l,t[l]])}),r.sort(([i],[l])=>i-l);const n=[],a=[];return r.forEach(([i,l,o])=>{a.push(l),n.push(o)}),[n,a]},Xt=(e,t)=>va(e)(t);function _a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rr={exports:{}},Gr={exports:{}};(function(e,t){(function(r){const n=Math.PI*2;function a(i,l,o=null){var f,s;o?(f=o(),s=o()):(f=Math.random(),s=Math.random());var u=Math.sqrt(-2*Math.log(f))*Math.cos(n*s);return u*l+i}r(a)})(function(r){e.exports=r})})(Gr);var pa=Gr.exports;(function(e,t){(function(r){const n=pa;var a=function(s){var u=Math.abs(s),d=1/(1+u/2),c=d*Math.exp(-u*u-1.26551223+d*(1.00002368+d*(.37409196+d*(.09678418+d*(-.18628806+d*(.27886807+d*(-1.13520398+d*(1.48851587+d*(-.82215223+d*.17087277)))))))));return s>=0?c:2-c},i=function(s){if(s>=2)return-100;if(s<=0)return 100;for(var u=s<1?s:2-s,d=Math.sqrt(-2*Math.log(u/2)),c=-.70711*((2.30753+d*.27061)/(1+d*(.99229+d*.04481))-d),v=0;v<2;v++){var p=a(c)-u;c+=p/(1.1283791670955126*Math.exp(-(c*c))-c*p)}return s<1?c:-c},l=function(s,u){if(u<=0)throw new Error("Variance must be > 0 (but was "+u+")");this.mean=s,this.variance=u,this.standardDeviation=Math.sqrt(u)};l.prototype.pdf=function(s){var u=this.standardDeviation*Math.sqrt(2*Math.PI),d=Math.exp(-Math.pow(s-this.mean,2)/(2*this.variance));return d/u},l.prototype.cdf=function(s){return .5*a(-(s-this.mean)/(this.standardDeviation*Math.sqrt(2)))},l.prototype.ppf=function(s){return this.mean-this.standardDeviation*Math.sqrt(2)*i(2*s)},l.prototype.mul=function(s){if(typeof s=="number")return this.scale(s);var u=1/this.variance,d=1/s.variance;return f(u+d,u*this.mean+d*s.mean)},l.prototype.div=function(s){if(typeof s=="number")return this.scale(1/s);var u=1/this.variance,d=1/s.variance;return f(u-d,u*this.mean-d*s.mean)},l.prototype.add=function(s){return o(this.mean+s.mean,this.variance+s.variance)},l.prototype.sub=function(s){return o(this.mean-s.mean,this.variance+s.variance)},l.prototype.scale=function(s){return o(this.mean*s,this.variance*s*s)},l.prototype.random=function(s,u=null){let d=this.mean,c=this.standardDeviation;return Array(s).fill(0).map(()=>n(d,c,u))};var o=function(s,u){return new l(s,u)},f=function(s,u){return o(u/s,1/s)};r(o)})(function(r){e.exports=r})})(Rr);var ma=Rr.exports;const ha=_a(ma);var ga=Object.defineProperty,ba=Object.defineProperties,ya=Object.getOwnPropertyDescriptors,er=Object.getOwnPropertySymbols,xa=Object.prototype.hasOwnProperty,wa=Object.prototype.propertyIsEnumerable,tr=(e,t,r)=>t in e?ga(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ne=(e,t)=>{for(var r in t||(t={}))xa.call(t,r)&&tr(e,r,t[r]);if(er)for(var r of er(t))wa.call(t,r)&&tr(e,r,t[r]);return e},at=(e,t)=>ba(e,ya(t)),Ea=e=>{const{z:t=3,mu:r=25,preventSigmaIncrease:n=!1,epsilon:a=1e-4}=e,{tau:i=r/300,sigma:l=r/t,beta:o=l/2,limitSigma:f=n}=e,s=o**2;return{SIGMA:l,MU:r,EPSILON:a,TWOBETASQ:2*s,BETA:o,BETASQ:s,Z:t,TAU:i,LIMIT_SIGMA:f}},Be=Ea,Sa=(e,t={})=>{const{MU:r,SIGMA:n}=Be(Ne(Ne({},t),e));return{mu:r,sigma:n}},Pa=Sa,Qe=(e,t)=>e+t,Ma=(e,t=[])=>{const r=e.map((i,l)=>t[l]||l),n=new Array(e.length);let a=0;for(let i=0;i<r.length;i+=1)i>0&&r[i-1]<r[i]&&(a=i),n[i]=a;return n},ka=e=>t=>{const r=Ma(t,e.rank);return t.map((n,a)=>[n.map(({mu:i})=>i).reduce(Qe,0),n.map(({sigma:i})=>i*i).reduce(Qe,0),n,r[a]])},Ia=e=>{const{BETASQ:t}=Be(e);return r=>Math.sqrt(r.map(([n,a,i,l])=>a+t).reduce(Qe,0))},Aa=(e,t)=>e.map(([r,n,a,i])=>e.filter(([l,o,f,s])=>s>=i).map(([l,o,f,s])=>Math.exp(l/t)).reduce(Qe,0)),Ta=e=>e.map(([t,r,n,a])=>e.filter(([i,l,o,f])=>a===f).length),Oa=e=>{var t;return(t=e.gamma)!=null?t:(r,n,a,i,l,o)=>Math.sqrt(i)/r},Na=e=>({utilC:Ia(e),teamRating:ka(e),gamma:Oa(e)}),qa=(e,t={})=>{const{EPSILON:r}=Be(t),{utilC:n,teamRating:a,gamma:i}=Na(t),l=a(e),o=n(l),f=Aa(l,o),s=Ta(l);return l.map((u,d)=>{const[c,v,p,b]=u,M=Math.exp(c/o),[N,q]=l.filter(([Y,w,k,x])=>x<=b).reduce(([Y,w],[k],x)=>{const h=M/f[x];return[Y+(d===x?1-h:-h)/s[x],w+h*(1-h)/s[x]]},[0,0]),T=i(o,l.length,...u),y=N*(v/o),E=T*q*(v/o**2);return p.map(({mu:Y,sigma:w})=>({mu:Y+w**2/v*y,sigma:w*Math.sqrt(Math.max(1-w**2/v*E,r))}))})},Ca=qa;ha(0,1);var Da=(e,t={})=>{var r,n,a;const{LIMIT_SIGMA:i,TAU:l}=Be(t),{model:o=Ca}=t;let f=e;if(t.tau){const p=l*l;f=e.map(b=>b.map(M=>at(Ne({},M),{sigma:Math.sqrt(M.sigma*M.sigma+p)})))}const s=(a=(n=t.rank)!=null?n:(r=t.score)==null?void 0:r.map(p=>-p))!=null?a:ca(1,e.length+1),[u,d]=Xt(s,f),c=o(u,at(Ne({},t),{rank:da(fa,s)}));let[v]=Xt(d,c);return l&&i&&(v=v.map((p,b)=>p.map((M,N)=>at(Ne({},M),{sigma:Math.min(M.sigma,e[b][N].sigma)})))),v},Ra=Da,Ga=(e,t={})=>{const{sigma:r,mu:n}=e,{Z:a}=Be(t);return n-a*r},it=Ga,$a=$('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-medium text-gray-900"> </div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-medium text-gray-900"> </div></td><td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"> </span></td><td class="px-6 py-4 whitespace-nowrap"><button class="text-red-600 hover:text-red-900 focus:outline-none">Remove</button></td></tr>'),La=$('<tr><td colspan="4" class="px-6 py-4 text-center text-gray-500">No players added yet</td></tr>'),Ba=$('<div class="text-red-500 text-sm"> </div>'),Fa=$('<div class="container mx-auto"><div class="bg-white shadow-md rounded-lg overflow-hidden"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rank</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rating</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"><!><!></tbody></table></div> <div class="border-t border-gray-200 my-6"></div> <div class="mb-6 bg-white shadow-md rounded-lg p-6"><h3 class="text-lg font-medium mb-4">Add New Player</h3> <form class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><label for="name" class="block text-sm font-medium text-gray-700">Name</label> <input type="text" id="name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="Enter player name"></div></div> <!> <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">Add Player</button></form></div></div>');function Ua(e,t){Ct(t,!1);const r=qr(),n=()=>gt(j,"$playerStore",r),a=Z();let i=Z(""),l=Z("");const o=()=>{const w=Pa();if(!_(i).trim()){I(l,"Please enter a player name");return}j.addPlayer(_(i).trim(),w),I(i,""),I(l,"")},f=(w,k)=>it(k.rating)-it(w.rating),s=w=>it(w).toFixed(2);function u(w){return w.state===ie.InGame?"In Game":"Idle"}ft(()=>n(),()=>{I(a,[...n()].sort(f))}),br(),Nr();var d=Fa(),c=m(d),v=m(c),p=S(m(v)),b=m(p);Ye(b,1,()=>_(a),We,(w,k,x)=>{var h=$a(),O=m(h);O.textContent=`#${x+1}`;var C=S(O),L=m(C),B=m(L),H=S(C),se=m(H),re=m(se);V(()=>J(re,s(_(k).rating)));var Q=S(H),pe=m(Q),ke=m(pe);V(()=>J(ke,u(_(k))));var Ie=S(Q),me=m(Ie);V(()=>J(B,_(k).name)),K("click",me,()=>j.removePlayer(_(k).id)),R(w,h)});var M=S(b);de(M,()=>_(a).length===0,w=>{var k=La();R(w,k)});var N=S(c,4),q=S(m(N),2),T=m(q),y=m(T),E=S(m(y),2),Y=S(T,2);de(Y,()=>_(l),w=>{var k=Ba(),x=m(k);V(()=>J(x,_(l))),R(w,k)}),ht(E,()=>_(i),w=>I(i,w)),K("submit",q,Zn(o)),R(e,d),Dt()}const rr=localStorage.getItem("games"),ja=rr?JSON.parse(rr):[];function Va(){const{subscribe:e,set:t,update:r}=Cr(ja);return{subscribe:e,createGame:(n,a)=>{r(i=>{const l={id:Date.now(),teamA:n,teamB:a,createdAt:Date.now(),status:"active"},o=[...i,l];return localStorage.setItem("games",JSON.stringify(o)),[...n,...a].forEach(f=>j.updatePlayerState(f,ie.InGame)),o})},cancelGame:n=>{r(a=>{const i=a.find(l=>l.id===n);return i&&[...i.teamA,...i.teamB].forEach(l=>j.updatePlayerState(l,ie.Idle)),a.map(l=>l.id!==n?l:{...l,status:"cancelled"})})},clearGames:()=>{j.clearPlayerStatus(),localStorage.removeItem("games"),t([])},completeGame:(n,a,i)=>{r(l=>{const o=l.map(f=>{if(f.id===n){[...f.teamA,...f.teamB].forEach(v=>j.updatePlayerState(v,ie.Idle));let s=f.teamA.map(v=>j.getPlayer(v)),u=f.teamB.map(v=>j.getPlayer(v));const d=Ra([s.map(v=>v.rating),u.map(v=>v.rating)],{score:[a,i]});let c={};return s.forEach((v,p)=>{j.updatePlayerRating(v.id,d[0][p]),c[v.id]=[v.rating,d[0][p]]}),u.forEach((v,p)=>{j.updatePlayerRating(v.id,d[1][p]),c[v.id]=[v.rating,d[1][p]]}),f.status="completed",f.ratingUpdate=c,{...f,score:{teamA:a,teamB:i}}}return f});return localStorage.setItem("games",JSON.stringify(o)),o})}}}const be=Va();var Ha=$('<div class="mb-1"> </div>'),Ja=$('<div class="z-10 w-64 p-2 mt-2 bg-gray-800 text-white text-xs rounded shadow-lg"></div>'),za=$("<span> </span> <!>",1),Wa=$('<button class="text-blue-600 hover:text-blue-900">Complete</button> <button class="text-red-600 hover:text-red-900">Cancel</button>',1),Ya=$('<tr class="hover:bg-gray-50"><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-medium text-gray-900"> </div> <div class="text-sm font-medium text-gray-900 relative group"><!></div></td><td class="px-6 py-4 whitespace-nowrap"><span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"> </span></td><td class="px-6 py-4 whitespace-nowrap space-x-2"><!></td></tr>'),Qa=$('<div class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center"><div class="bg-white rounded-lg p-6 max-w-sm w-full"><h3 class="text-lg font-medium mb-4">Complete Game</h3> <div class="space-y-4"><div><label class="block text-sm font-medium text-gray-700"> </label> <input type="number" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" min="0"></div> <div><label class="block text-sm font-medium text-gray-700"> </label> <input type="number" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" min="0"></div> <div class="flex justify-end space-x-2"><button class="bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300">Cancel</button> <button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Complete</button></div></div></div></div>'),Ka=$('<div class="container mx-auto"><div class="mb-6"><button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">New Random Single Game</button> <button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">New Random Double Game</button> <button class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">Clear</button></div> <div class="bg-white shadow-md rounded-lg overflow-hidden"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Players</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div> <!></div>');function Za(e,t){Ct(t,!1);const r=qr(),n=()=>gt(j,"$playerStore",r),a=()=>gt(be,"$gameStore",r),i=Z(),l=Z();let o=Z(!1),f=Z(null),s=Z(""),u=Z("");function d(){const x=_(i);if(x.length<2)return;const h=Math.floor(Math.random()*x.length),O=x[h],C=x.filter(H=>H.id!==O.id),L=Math.floor(Math.random()*C.length),B=C[L];be.createGame([O.id],[B.id])}function c(){const x=_(i);if(x.length<4)return;const h=[...x].sort(()=>Math.random()-.5),[O,C,L,B]=h.slice(0,4);be.createGame([O.id,C.id],[L.id,B.id])}function v(){_(f)&&_(s)!==""&&_(u)!==""&&(be.completeGame(_(f),parseInt(_(s)),parseInt(_(u))),I(o,!1),I(f,null),I(s,""),I(u,""))}function p(x){return x.map(h=>{var O;return((O=n().find(C=>C.id===h))==null?void 0:O.name)||"Unknown"}).join(", ")}function b(){be.clearGames()}ft(()=>(n(),ie),()=>{I(i,[...n()].filter(x=>x.state===ie.Idle))}),ft(()=>n(),()=>{I(l,[...n()])}),br(),Nr();var M=Ka(),N=m(M),q=m(N),T=S(q,2),y=S(T,2),E=S(N,2),Y=m(E),w=S(m(Y));Ye(w,5,()=>a().sort((x,h)=>h.createdAt-x.createdAt),We,(x,h)=>{var O=Ya(),C=m(O),L=m(C);const B=ae(()=>p(_(h).teamA)??""),H=ae(()=>p(_(h).teamB)??"");var se=m(L);V(()=>J(se,`${_(B)} vs ${_(H)}`));var re=S(L,2),Q=m(re);de(Q,()=>_(h).status==="completed"&&_(h).score,F=>{var ne=za(),Ae=ut(ne),rt=m(Ae),$r=S(Ae,2);de($r,()=>_(h).ratingUpdate,Lr=>{var Rt=Ja();Ye(Rt,5,()=>Object.entries(_(h).ratingUpdate),We,(Br,nt)=>{let Fr=()=>_(nt)[0],Ur=()=>_(nt)[1][0],jr=()=>_(nt)[1][1];var Gt=Ha();const Vr=ae(()=>p([parseInt(Fr())])??""),Hr=ae(()=>Ur().mu.toFixed(2)??""),Jr=ae(()=>jr().mu.toFixed(2)??"");var zr=m(Gt);V(()=>J(zr,`${_(Vr)}: ${_(Hr)} → ${_(Jr)}`)),R(Br,Gt)}),R(Lr,Rt)}),V(()=>J(rt,`${_(h).score.teamA??""} - ${_(h).score.teamB??""}`)),R(F,ne)});var pe=S(C),ke=m(pe),Ie=m(ke);V(()=>J(Ie,_(h).status.charAt(0).toUpperCase()+_(h).status.slice(1)));var me=S(pe),tt=m(me);de(tt,()=>_(h).status==="active",F=>{var ne=Wa(),Ae=ut(ne),rt=S(Ae,2);K("click",Ae,()=>{I(f,_(h).id),I(o,!0)}),K("click",rt,()=>be.cancelGame(_(h).id)),R(F,ne)}),R(x,O)});var k=S(E,2);de(k,()=>_(o),x=>{var h=Qa(),O=m(h),C=S(m(O),2),L=m(C),B=m(L),H=m(B);V(()=>{var F;return J(H,`${p(_(f)?((F=a().find(ne=>ne.id===_(f)))==null?void 0:F.teamA)||[0]:[0])??""} Score`)});var se=S(B,2),re=S(L,2),Q=m(re),pe=m(Q);V(()=>{var F;return J(pe,`${p(_(f)&&((F=a().find(ne=>ne.id===_(f)))==null?void 0:F.teamB)||0)??""} Score`)});var ke=S(Q,2),Ie=S(re,2),me=m(Ie),tt=S(me,2);ht(se,()=>_(s),F=>I(s,F)),ht(ke,()=>_(u),F=>I(u,F)),K("click",me,()=>{I(o,!1),I(f,null),I(s,""),I(u,"")}),K("click",tt,v),R(x,h)}),V(()=>{q.disabled=_(i).length<2,T.disabled=_(i).length<4}),K("click",q,d),K("click",T,c),K("click",y,b),R(e,M),Dt()}var Xa=$('<main class="container mx-auto p-4"><nav class="flex border-b border-gray-200 mb-4"></nav> <!> <!></main>');function ei(e){let t=Z("players");const r=[{id:"players",label:"Players"},{id:"games",label:"Games"}];var n=Xa(),a=m(n);Ye(a,5,()=>r,We,(s,u)=>{var d=ae(()=>_(t)===_(u).id);ia(s,{get label(){return _(u).label},get active(){return _(d)},$$events:{click:()=>I(t,_(u).id)}})});var i=S(a,2),l=ae(()=>_(t)==="players");Qt(i,{get active(){return _(l)},children:(s,u)=>{Ua(s,{})},$$slots:{default:!0}});var o=S(i,2),f=ae(()=>_(t)==="games");Qt(o,{get active(){return _(f)},children:(s,u)=>{Za(s,{})},$$slots:{default:!0}}),R(e,n)}jn(ei,{target:document.getElementById("app")});
